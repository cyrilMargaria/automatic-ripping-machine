# ARM (Automatic Ripping Machine) config file

#################
## ARM Options ##
#################

# A friendly name for this machine. Useful if you are running multiple instances.
# Used in notification titles.
ARM_NAME: ""

# ARM_CHILDREN
# Comma delimited list of child ARM servers to display on the Home Page
# Should be full protocol, path, and port: http://192.168.0.100:8080
ARM_CHILDREN: ""

# Prevent ARM from wasting time on 99 Title protected DVDs.
# A DRM scheme used on some DVDs which creates fake titles which confuses Handbrake.
# When set to "true" affected DVDs will be autoejected on insertion.
PREVENT_99: true

# Distinguish UDF video discs from UDF data discs.  Requires mounting disc so adds a few seconds to the identify script.
ARM_CHECK_UDF: true

# When enabled if the disc is a DVD use dvdid to calculate a crc64 and query Windows Media Meta Services for the Movie Title.
# For BluRays attempts to extract the title from an XML file on the disc
GET_VIDEO_TITLE: true

# ARM dvd crc64 api key
# This is only needed if you would like to send movies to the database
ARM_API_KEY: ""

# Do you want to be forced to login to view/edit jobs
# True will leave all of the pages open to be editable/viewable by anyone
# False will require you to login to view/edit jobs or settings from the ui
# ARMui will need to be restared for this to update
DISABLE_LOGIN: false

# Skip transcoding if you want the original MakeMKV files as your final output
# This will produce the highest quality videos (and use the most storage)
# Note: RIPMETHOD must be set to "mkv" for this feature to work
# Note: The largest file will be considered to be the "main feature" but there are cases when this is not true
# to avoid losing a desired track, use this feature with an EXTRAS_SUB value that is not "None"
SKIP_TRANSCODE: false

# Video type identification.  Options are "auto", "series", "movie".
# If "auto" then ARM will get the video type when querying the movie webservice.  This is default.
# If the disc is not clearly a movie or series, or if ARM is having difficulty getting the right video type
# you can override the automatic identification with "series" or "movie"
VIDEOTYPE: "auto"

# Minimum length of track for ARM rip (in seconds)
MINLENGTH: "600"

# Maximum length of track for ARM rip (in seconds)
# Use "99999" to indicate no maximum length
MAXLENGTH: "99999"

# Wait for manual identification
MANUAL_WAIT: true

# Wait time for manual identification (in seconds)
MANUAL_WAIT_TIME: 60

# Allows you to format the date/time to your own liking
# This will be used throughout ARM and ARMui
DATE_FORMAT: "%d-%m-%Y %H:%M:%S"

## Do you want to allow Rips of the same disk multiple times
## With this set as false the task will exit if it recognises the same movie being ripped
## recommended to set to true for series
ALLOW_DUPLICATES: false

# Number of Transcodes that runs at the same time.
# Certain Video cards are limited to how many encodes they can run at the same time.
# Also useful for diminishing returns on CPU based encodes.
# Set to 0 to disable
MAX_CONCURRENT_TRANSCODES: 0

# Additional parameters for dd. e.g. "conv=noerror,sync" for ignoring read errors
DATA_RIP_PARAMETERS: ""

# rsync or dd. if not set: dd
# with rsync, if the disk can't be mounted, then dd is used
DATA_RIP_TYPE: ""
# By default data back with rsync are backed up locally, its also possible to set a specific rsync destination
# Rsync will be towards DATA_RIP_RSYNC_DEST . The job label is not appended, rsync rules for the trailing / will be applied
DATA_RIP_RSYNC_DEST: ""
# extra option for rsync
DATA_RIP_RSYNC_OPTS: ""

# This selects the metadata provider, Each provider has their own ups and downs
# But a general rule would be
#    OMDB for movies and shows
#    TMDB for movies only
# You will still need to provide an api key for the provider you have selected
METADATA_PROVIDER: "omdb"

# Set to one of "none", "musicbrainz", "freecddb"
# if "musicbrainz" is used the disc information are asked from musicbrainz.org
# if "none" is used no label is identified
GET_AUDIO_TITLE: "musicbrainz"

# Rip DVD Posters from JACKET_P folder
# Requires FFmpeg
RIP_POSTER: false


#####################
## Directory setup ##
#####################

# Location of your ABCDE config file
# This over-rides any other abcde.conf files
ABCDE_CONFIG_FILE: "/etc/abcde.conf"

# Optional: destination folder for audio output. 
# For single machine: it can be configured in abcde.conf, for multi-rip machine it can be set per ripper 
# AUDIO_PATH: "/home/arm/media/audio"
# Path to raw MakeMKV directory and data disk dump
# Destination for MakeMKV and source for HandBrake
RAW_PATH: "/home/arm/media/raw/"

# destination for  data cd copy (see DATA_RIP_TYPE), if not set RAW_PATH is used
#DATA_PATH: "/home/arm/files"

# Intermediary directory for transcoding files
# Destination for HandBrake
TRANSCODE_PATH: "/home/arm/media/transcode/"

# Final directory of transcoded files
# Ripped and transcoded files end up here
COMPLETED_PATH: "/home/arm/media/completed/"

# Movie subdirectory name for "extras"
# Valid names are dependent on your media server
# For Emby see https://github.com/MediaBrowser/Wiki/wiki/Movie%20naming#user-content-movie-extras
# For Plex see https://support.plex.tv/hc/en-us/articles/200220677
EXTRAS_SUB: "extras"

# Path to installation of ARM 
INSTALLPATH: "/opt/arm/"

# Path to directory to hold log files
# Make sure to include trailing /
LOGPATH: "/home/arm/logs/"

# Log level.  DEBUG, INFO, WARNING, ERROR, CRITICAL
# The default is INFO
# If you are experiencing difficulties set this to DEBUG
LOGLEVEL: "DEBUG"

# Optional: logging destination: comma separated list of log destination
#  stdout, stderr, syslog: self-explaining
#  file (default): per ripping job log file, required for seeing the logs in the webui
#  udp://  syslog udp destination
#  if LOGDEST is set and file is *NOT* set, the webui will not (yet) be able to display the log
# LOGDEST: stdout,stderr,syslog,file,udp://

# How long to let log files live before deleting (in days)
# Set to 0 to disable
LOGLIFE: 1

# Path to ARM database file
DBFILE: "/home/arm/db/arm.db"
# Optional:  
# DB_URL: "postgresql://user:password@host:port/db"
# SQLALCHEMY_ENGINE_OPTIONS, they must ne compatible with the URL used
# SQLALCHEMY_ENGINE_OPTIONS:
#  connect_args:
#    keepalives: 1
#    keepalives_idle: 30
#    keepalives_interval: 10
#    keepalives_count: 5

##################
##  Web Server  ##
##################

# IP address of web server (this machine)
# Use x.x.x.x to autodetect the IP address to use (first non localhost ip address)
# use 0.0.0.0 to bind to all interface (beware of the the security risk)
# using WEBSERVER_NAME is then recommended 
WEBSERVER_IP: x.x.x.x

# Port for web server
WEBSERVER_PORT: 8080

# name to be advertized in notifications
WEBSERVER_NAME: localhost


########################
##  File Permissions  ##
########################

# Enabling this setting will allow you to adjust the default file permissions of the outputted files
# The default value is set to 777 for read/write/execute for all users, but can be changed below using the "CHMOD_VALUE" setting
# This setting is helpful when storing the data locally on the system
SET_MEDIA_PERMISSIONS: false
CHMOD_VALUE: 777

SET_MEDIA_OWNER: false
CHOWN_USER: 
CHOWN_GROUP: 


########################
## MakeMKV Parameters ##
########################

# Method of MakeMKV to use for Blu Ray discs.  Options are "mkv" or "backup".
# backup decrypts the dvd and then copies it to the hard drive.  This allows HandBrake to apply some of it's
# analytical abilities such as the main-feature identification.  This method seems to offer success on bluray 
# discs that fail in "mkv" mode. *** NOTE: MakeMKV only supports the backup method on BluRay discs.  ARM does
# not use MakeMKV for DVDs.   
RIPMETHOD: "backup"

# MakeMKV Arguments
# MakeMKV Profile used for controlling Audio Track Selection.
# This is the default profile MakeMKV uses for Audio track selection. Updating this file or changing it is considered
# to be advanced usage of MakeMKV. But this will allow users to alternatively tell makemkv to select HD audio tracks and etc.
# MKV_ARGS: "--profile=/opt/arm/default.mmcp.xml"
# MKV_ARGS: "--debug=-stdout"  # this will enable more detailed logging
MKV_ARGS: ""

# Remove the files created by MakeMKV after processing is complete
DELRAWFILES: true

# Automatically download hashed_keys.  This is for UHD ripping only.  You mush have a UHD friendly drive for this to work.
# Check out this post: https://www.makemkv.com/forum2/viewtopic.php?f=12&t=16883&sid=93f1db30f6ceb99b494f3f37cd723841 before 
# changing this to True 
HASHEDKEYS: false


##########################
## HandBrake Parameters ##
##########################

# Handbrake preset profile for DVDs
# Execute "HandBrakeCLI -z" to see a list of all presets
HB_PRESET_DVD: "HQ 720p30 Surround"

# Handbrake preset profile for Blurays
# Execute "HandBrakeCLI -z" to see a list of all presets
HB_PRESET_BD: "HQ 1080p30 Surround"

# Extension of the final video file
DEST_EXT: mkv

# Handbrake binary to call
HANDBRAKE_CLI: HandBrakeCLI

# Have HandBrake transcode the main feature only.  BluRay discs must have RIPMETHOD="backup" for this to work.
# If MAINFEATURE is true, blurays will be backed up to the HD and then HandBrake will go to work on the backed up
# files.  
# This will require libdvdcss2 be installed.
# NOTE: For the most part, HandBrake correctly identifies the main feature on movie DVD's, although it is not perfect. 
# However, it does not handle tv shows well at all.  This setting is only used when the video is identified as a movie.
MAINFEATURE: false

# Additional HandBrake arguments for DVDs.
HB_ARGS_DVD: "--subtitle scan -F"

# Additional Handbrake arguments for Bluray Discs.
HB_ARGS_BD: "--subtitle scan -F --subtitle-burned --audio-lang-list eng --all-audio"


#####################
## Emby Parameters ##
#####################

# Parameters to enable automatic library scan in Emby.  This will trigger only if MainFeature is true above.
# Scan emby library after successful placement of mainfeature (see above)
EMBY_REFRESH: false

# Server parameters
# Server can be ip address or domain name
EMBY_SERVER: ""
EMBY_PORT: "8096"

# Emby authentication fluff parameters.  These can be anything.
EMBY_CLIENT: "ARM"
EMBY_DEVICE: "ARM"
EMBY_DEVICEID: "ARM"

# Emby authentication parameters.  These are parameters that must be set to a current user in Emby.
EMBY_USERNAME: ""

# EMBY_USERID is the user ID associated with the username above.  You can find this by going to the following address on your emby server
# <server>:<port>/Users/Public and getting the ID value for the username above.
EMBY_USERID: ""

# This is the SHA1 encrypted password for the username above.  You can generate the SHA1 hash of your password by executing the following at
# the command line: 
# echo -n your-password | sha1sum | awk '{print $1}'
# or using an online generator like the one located at http://www.sha1-online.com/
EMBY_PASSWORD: ""

# Emby API key.  This can be found (generated) by going to Advanced/Security in the 
# Emby dashboard
EMBY_API_KEY: ""


#############################
## Notification Parameters ##
#############################

# Notify after Rip?
NOTIFY_RIP: true

# Notify after transcode?
NOTIFY_TRANSCODE: true

# Add Job ID to Notification Title
NOTIFY_JOBID: false

# Pushbullet API Key
# Leave empty to disable Pushbullet notifications
PB_KEY: ""

# IFTTT API KEY
# Leave empty to disable IFTTT notifications
IFTTT_KEY: ""

# IFTTT Event Name
IFTTT_EVENT: "arm_event"

# Pushover API User and Application Key
# Leave User key empty to disable Pushover notifications
PO_USER_KEY: ""
PO_APP_KEY: ""

# OMDB_API_KEY
# omdbapi.com API Key
# See README-OMDBAPI for background and info
# This is the API key for omdbapi.com queries.
# More info at http://omdbapi.com/
OMDB_API_KEY: ""

# TMDB_API_KEY
# https://www.themoviedb.org/ API Key
# See README-OMDBAPI for background and info
# This is the API key for https://www.themoviedb.org/ queries.
# More info at https://www.themoviedb.org/documentation/api
TMDB_API_KEY: ""

# JSON_URL
# Url to send Notifications to in JSON format
JSON_URL: ""


#################################################
##            APPRISE NOTIFICATIONS            ##
#################################################

# File location of your apprise.yaml file
# Leave blank to disable
APPRISE: ""
